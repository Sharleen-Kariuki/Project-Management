import{U as R,a as u,j as c,H as te,L as W,d as I}from"./app-0rZZ-px6.js";import{T as j,P as re}from"./TableHeading-r1xRyGak.js";import{A as ne}from"./AuthenticatedLayout-DiC2xJhh.js";import{o as oe,a as ie}from"./disabled-B7BU9BaA.js";import{p as ae,o as B,K as se,_ as de,L as ue}from"./transition-VNmUFtE-.js";const O=typeof document<"u"?R.useLayoutEffect:()=>{};var _;const ce=(_=R.useInsertionEffect)!==null&&_!==void 0?_:O;function le(e){const r=u.useRef(null);return ce(()=>{r.current=e},[e]),u.useCallback((...t)=>{const n=r.current;return n?.(...t)},[])}const h=e=>{var r;return(r=e?.ownerDocument)!==null&&r!==void 0?r:document},x=e=>e&&"window"in e&&e.window===e?e:h(e).defaultView||window;function fe(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ve(e){return fe(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let be=!1;function D(){return be}function V(e,r){if(!D())return r&&e?e.contains(r):!1;if(!e||!r)return!1;let t=r;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:ve(t)?t=t.host:t=t.parentNode}return!1}const C=(e=document)=>{var r;if(!D())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((r=t.shadowRoot)===null||r===void 0)&&r.activeElement);)t=t.shadowRoot.activeElement;return t};function K(e){return D()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function pe(e){var r;if(typeof window>"u"||window.navigator==null)return!1;let t=(r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands;return Array.isArray(t)&&t.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function $e(e){var r;return typeof window<"u"&&window.navigator!=null?e.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function U(e){let r=null;return()=>(r==null&&(r=e()),r)}const ge=U(function(){return $e(/^Mac/i)}),me=U(function(){return pe(/Android/i)});function Y(){let e=u.useRef(new Map),r=u.useCallback((o,s,i,a)=>{let d=a?.once?(...l)=>{e.current.delete(i),i(...l)}:i;e.current.set(i,{type:s,eventTarget:o,fn:d,options:a}),o.addEventListener(s,d,a)},[]),t=u.useCallback((o,s,i,a)=>{var d;let l=((d=e.current.get(i))===null||d===void 0?void 0:d.fn)||i;o.removeEventListener(s,l,a),e.current.delete(i)},[]),n=u.useCallback(()=>{e.current.forEach((o,s)=>{t(o.eventTarget,o.type,s,o.options)})},[t]);return u.useEffect(()=>n,[n]),{addGlobalListener:r,removeGlobalListener:t,removeAllGlobalListeners:n}}function he(e){return e.pointerType===""&&e.isTrusted?!0:me()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function X(e){let r=e;return r.nativeEvent=e,r.isDefaultPrevented=()=>r.defaultPrevented,r.isPropagationStopped=()=>r.cancelBubble,r.persist=()=>{},r}function Ee(e,r){Object.defineProperty(e,"target",{value:r}),Object.defineProperty(e,"currentTarget",{value:r})}function z(e){let r=u.useRef({isFocused:!1,observer:null});O(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=le(n=>{e?.(n)});return u.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let o=n.target,s=i=>{if(r.current.isFocused=!1,o.disabled){let a=X(i);t(a)}r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&o.disabled){var i;(i=r.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),r.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let xe=!1,L=null,M=new Set,T=new Map,w=!1,N=!1;const we={Tab:!0,Escape:!0};function S(e,r){for(let t of M)t(e,r)}function ye(e){return!(e.metaKey||!ge()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function k(e){w=!0,ye(e)&&(L="keyboard",S("keyboard",e))}function y(e){L="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(w=!0,S("pointer",e))}function J(e){he(e)&&(w=!0,L="virtual")}function Q(e){e.target===window||e.target===document||xe||!e.isTrusted||(!w&&!N&&(L="virtual",S("virtual",e)),w=!1,N=!1)}function Z(){w=!1,N=!0}function P(e){if(typeof window>"u"||typeof document>"u"||T.get(x(e)))return;const r=x(e),t=h(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){w=!0,n.apply(this,arguments)},t.addEventListener("keydown",k,!0),t.addEventListener("keyup",k,!0),t.addEventListener("click",J,!0),r.addEventListener("focus",Q,!0),r.addEventListener("blur",Z,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",y,!0),t.addEventListener("pointermove",y,!0),t.addEventListener("pointerup",y,!0)),r.addEventListener("beforeunload",()=>{q(e)},{once:!0}),T.set(r,{focus:n})}const q=(e,r)=>{const t=x(e),n=h(e);r&&n.removeEventListener("DOMContentLoaded",r),T.has(t)&&(t.HTMLElement.prototype.focus=T.get(t).focus,n.removeEventListener("keydown",k,!0),n.removeEventListener("keyup",k,!0),n.removeEventListener("click",J,!0),t.removeEventListener("focus",Q,!0),t.removeEventListener("blur",Z,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",y,!0),n.removeEventListener("pointermove",y,!0),n.removeEventListener("pointerup",y,!0)),T.delete(t))};function Te(e){const r=h(e);let t;return r.readyState!=="loading"?P(e):(t=()=>{P(e)},r.addEventListener("DOMContentLoaded",t)),()=>q(e,t)}typeof document<"u"&&Te();function ee(){return L!=="pointer"}const Le=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Fe(e,r,t){let n=h(t?.target);const o=typeof window<"u"?x(t?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?x(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?x(t?.target).HTMLElement:HTMLElement,a=typeof window<"u"?x(t?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof o&&!Le.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof i&&n.activeElement.isContentEditable,!(e&&r==="keyboard"&&t instanceof a&&!we[t.key])}function ke(e,r,t){P(),u.useEffect(()=>{let n=(o,s)=>{Fe(!!t?.isTextInput,o,s)&&e(ee())};return M.add(n),()=>{M.delete(n)}},r)}function He(e){let{isDisabled:r,onFocus:t,onBlur:n,onFocusChange:o}=e;const s=u.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),o&&o(!1),!0},[n,o]),i=z(s),a=u.useCallback(d=>{const l=h(d.target),b=l?C(l):C();d.target===d.currentTarget&&b===K(d.nativeEvent)&&(t&&t(d),o&&o(!0),i(d))},[o,t,i]);return{focusProps:{onFocus:!r&&(t||o||n)?a:void 0,onBlur:!r&&(n||o)?s:void 0}}}function je(e){let{isDisabled:r,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:o}=e,s=u.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=Y(),d=u.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,a(),t&&t(f),o&&o(!1))},[t,o,s,a]),l=z(d),b=u.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const $=h(f.target),p=C($);if(!s.current.isFocusWithin&&p===K(f.nativeEvent)){n&&n(f),o&&o(!0),s.current.isFocusWithin=!0,l(f);let m=f.currentTarget;i($,"focus",v=>{if(s.current.isFocusWithin&&!V(m,v.target)){let g=new $.defaultView.FocusEvent("blur",{relatedTarget:v.target});Ee(g,m);let E=X(g);d(E)}},{capture:!0})}},[n,o,l,i,d]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:b,onBlur:d}}}let A=!1,F=0;function _e(){A=!0,setTimeout(()=>{A=!1},50)}function G(e){e.pointerType==="touch"&&_e()}function Ce(){if(!(typeof document>"u"))return F===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",G),F++,()=>{F--,!(F>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",G)}}function Me(e){let{onHoverStart:r,onHoverChange:t,onHoverEnd:n,isDisabled:o}=e,[s,i]=u.useState(!1),a=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(Ce,[]);let{addGlobalListener:d,removeAllGlobalListeners:l}=Y(),{hoverProps:b,triggerHoverEnd:f}=u.useMemo(()=>{let $=(v,g)=>{if(a.pointerType=g,o||g==="touch"||a.isHovered||!v.currentTarget.contains(v.target))return;a.isHovered=!0;let E=v.currentTarget;a.target=E,d(h(v.target),"pointerover",H=>{a.isHovered&&a.target&&!V(a.target,H.target)&&p(H,H.pointerType)},{capture:!0}),r&&r({type:"hoverstart",target:E,pointerType:g}),t&&t(!0),i(!0)},p=(v,g)=>{let E=a.target;a.pointerType="",a.target=null,!(g==="touch"||!a.isHovered||!E)&&(a.isHovered=!1,l(),n&&n({type:"hoverend",target:E,pointerType:g}),t&&t(!1),i(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=v=>{A&&v.pointerType==="mouse"||$(v,v.pointerType)},m.onPointerLeave=v=>{!o&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[r,t,n,o,a,d,l]);return u.useEffect(()=>{o&&f({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:b,isHovered:s}}function Ne(e={}){let{autoFocus:r=!1,isTextInput:t,within:n}=e,o=u.useRef({isFocused:!1,isFocusVisible:r||ee()}),[s,i]=u.useState(!1),[a,d]=u.useState(()=>o.current.isFocused&&o.current.isFocusVisible),l=u.useCallback(()=>d(o.current.isFocused&&o.current.isFocusVisible),[]),b=u.useCallback(p=>{o.current.isFocused=p,i(p),l()},[l]);ke(p=>{o.current.isFocusVisible=p,l()},[],{isTextInput:t});let{focusProps:f}=He({isDisabled:n,onFocusChange:b}),{focusWithinProps:$}=je({isDisabled:!n,onFocusWithinChange:b});return{isFocused:s,isFocusVisible:a,focusProps:n?$:f}}function Pe(e){let r=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+r,bottom:e.clientY+t,left:e.clientX-r}}function Ae(e,r){return!(!e||!r||e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)}function De({disabled:e=!1}={}){let r=u.useRef(null),[t,n]=u.useState(!1),o=ae(),s=B(()=>{r.current=null,n(!1),o.dispose()}),i=B(a=>{if(o.dispose(),r.current===null){r.current=a.currentTarget,n(!0);{let d=oe(a.currentTarget);o.addEventListener(d,"pointerup",s,!1),o.addEventListener(d,"pointermove",l=>{if(r.current){let b=Pe(l);n(Ae(b,r.current.getBoundingClientRect()))}},!1),o.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:i,onPointerUp:s,onClick:s}}}let Se="button";function We(e,r){var t;let n=ie(),{disabled:o=n||!1,autoFocus:s=!1,...i}=e,{isFocusVisible:a,focusProps:d}=Ne({autoFocus:s}),{isHovered:l,hoverProps:b}=Me({isDisabled:o}),{pressed:f,pressProps:$}=De({disabled:o}),p=de({ref:r,type:(t=i.type)!=null?t:"button",disabled:o||void 0,autoFocus:s},d,b,$),m=u.useMemo(()=>({disabled:o,hover:l,focus:a,active:f,autofocus:s}),[o,l,a,f,s]);return ue()({ourProps:p,theirProps:i,slot:m,defaultTag:Se,name:"Button"})}let Ie=se(We);function Ke({auth:e,users:r,queryParams:t=null,success:n}){t=t||{};const o=i=>{i===t.sort_field?t.sort_direction==="asc"?t.sort_direction="desc":t.sort_direction="asc":(t.sort_field=i,t.sort_direction="asc"),I.get(route("user.index"),t,{})},s=i=>{window.confirm("Are you sure you want to delete this user?")&&I.delete(route("user.destroy",i.id))};return c.jsxs(ne,{user:e.user,header:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Users"}),c.jsx(W,{href:route("user.create"),className:"bg-emerald-500 py-1 px-3 text-white rounded shadow transition-all hover:bg-emerald-600",children:"Add New User"})]}),children:[c.jsx(te,{title:"User"}),c.jsx("div",{className:"py-12",children:c.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[n&&c.jsx("div",{className:"bg-emerald-500 py-2 px-4 mb-4 text-white rounded",children:n}),c.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:c.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[c.jsx("div",{className:"overflow-auto",children:c.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[c.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:c.jsxs("tr",{className:"text-nowrap",children:[c.jsx(j,{name:"name",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:o,children:"Name"}),c.jsx(j,{name:"email",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:o,children:"Email"}),c.jsx(j,{name:"created_at",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:o,children:"Created At"}),c.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),c.jsx("tbody",{children:r.data.map(i=>c.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[c.jsx("th",{className:"px-3 py-2 hover:underline text-gray-100 text-nowrap",children:i.name}),c.jsx("td",{className:"px-3 py-2",children:i.email}),c.jsx("td",{className:"px-3 py-3 text-nowrap",children:i.created_at}),c.jsxs("td",{className:"px-3 py-3 text-nowrap",children:[c.jsx(W,{href:route("user.edit",i.id),className:"font-medium text-blue-600 dark:text-blue-500 hover:underline mx-1",children:"Edit"}),c.jsx(Ie,{onClick:a=>s(i),className:"font-medium text-red-600 dark:text-red-500 hover:underline mx-1",children:"Delete"})]})]},i.id))})]})}),c.jsx(re,{links:r.meta.links})]})})]})})]})}export{Ke as default};
